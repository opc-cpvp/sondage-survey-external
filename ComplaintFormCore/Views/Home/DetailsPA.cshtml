@{
    ViewData["Title"] = "DetailsPA";
}

@inject Microsoft.AspNetCore.Antiforgery.IAntiforgery Xsrf
@inject ComplaintFormCore.Resources.SharedViewLocalizer Localizer

@functions
{
    public string GetAntiXsrfRequestToken()
    {
        return Xsrf.GetAndStoreTokens(Context).RequestToken;
    }
}

<div id="surveyElement" style="display:inline-block;width:100%;">
    <survey :survey='survey' />
</div>

<div id="surveyResult"></div>

<center>
    <div id="div_navigation">
        <button id="btnSurveyPrev" onclick="survey.prevPage();" class="btn btn-primary">@Localizer.GetLocalizedString("btnSurveyPrev")</button>
        <button id="btnSurveyNext" onclick="survey.nextPage();" class="btn btn-primary">@Localizer.GetLocalizedString("btnSurveyNext")</button>
        <button id="btnShowPreview" onclick="showPreview(survey);" class="btn btn-primary">@Localizer.GetLocalizedString("btnShowPreview")</button>
        <button id="btnComplete" onclick="survey.doComplete();" class="btn btn-primary">@Localizer.GetLocalizedString("btnComplete")</button>
        @*<button id="btnEndSession" onclick="endSession()" class="btn btn-primary">@Localizer.GetLocalizedString("btnEndSession")</button>*@
        <button id="btnStart" onclick="startSurvey(survey);" class="btn btn-primary">Start</button>
        <button id="pdfPreviewBtn" style="margin:10px" class="btn btn-primary" onclick="showPDF()">PDF Preview</button>
    </div>
</center>

@section CustomStyles {
    <link href="~/css/site.css" rel="stylesheet" />
}

@section CustomScripts {
    <script src="~/js/survey/widgets/widgetCheckboxHtml.js"></script>
    <script src="~/js/survey/widgets/widgetCommentHtml.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.1/showdown.min.js"></script>
    <script src="https://unpkg.com/jspdf@1.5.3/dist/jspdf.min.js"></script>
    <script src="https://surveyjs.azureedge.net/1.7.26/survey.pdf.js"></script>
    <script src="~/js/survey/surveyPDF.js"></script>

    <script src="~/dist/bundle.js"></script>

    <script type="text/javascript">
        initPaSurvey();
    </script>
}

